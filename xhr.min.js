var Xhr=function(){var e=function(e){for(e=0;e<4;e++)try{return e?new ActiveXObject([,"Msxml2","Msxml3","Microsoft"][e]+".XMLHTTP"):new XMLHttpRequest}catch(t){}},t=function(e){if(typeof e==="string"){return e}var t=encodeURIComponent,n="";for(var r in e){n+="&"+t(r)+"="+t(e[r])}return n.substr(1)},n=function(n,r,i,s,o){var u=Promise(),a=e(),f=t(i||{});if(n==="GET"&&f){r+="?"+f;f=null}a.open(n,r,true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var l in s||{}){a.setRequestHeader(l,s[l])}a.onreadystatechange=function(){if(a.readyState===4){(a.status===200?u.resolve:u.reject)({data:JSON.parse(a.responseText),status:a.status,headers:a.getResponseHeader})}};a.send(f);u.abort=a.abort;return u};return{get:function(e,t,r){return n("GET",e,t,r)},post:function(e,t,r){return n("POST",e,t,r)},put:function(e,t,r){return n("PUT",e,t,r)},"delete":function(e,t,r){return n("DELETE",e,t,r)},spoof:function(e,t,n){return Promise().resolve({data:e,headers:function(e){return t?t.header:null},status:n||200})}}}()
